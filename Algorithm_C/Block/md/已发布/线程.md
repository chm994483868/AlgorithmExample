# 多线程相关的知识体系构建(一)：基本概念

> &emsp;本篇全面学习多线程相关的知识，首先从基础概念开始，然后一步一步深入并学习源码。

## 进程的定义

> &emsp;以下进程的内容完全来自百度百科:

&emsp;进程（`Process`）是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位，每个进程之间是独立的，每个进程均运行在其专用的且受保护的内存，是操作系统结构的基础。

&emsp;在早期面向进程设计的计算机机构中，进程是程序的基本执行实体；在当代面向线程设计的计算机结构中，进程是线程的容器。程序是指令、数据及其组织形式的描述，进程是程序的实体。

> &emsp;进程是一个具有独立功能的程序关于某个数据集合的一次运行活动。它可以申请和拥有系统资源，是一个动态的概念，是一个活动的实体。它不只是程序的代码，还包括当前的活动，通过程序计数器的值和处理寄存器的内容来表示。

+ 狭义定义：进程是正在运行的程序的实例。（当一个程序进入内存运行时，即成为了一个进程。在 `iOS` 中，一个 `App` 的启动就是开启一个进程。）
+ 广义定义：进程是一个具有一定独立功能的程序关于某个数据集合的一次运行活动。它是操作系统动态执行的基本单元，在传统的操作系统中，进程既是基本的分配单元，也是基本的执行单元。

&emsp;进程的概念主要有两点：第一，进程是一个实体。每一个进程都有它自己的地址空间，一般情况下，包括文本区域（`text region`）、数据区域（`data region`）和堆栈（`stack region`）。文本区域存储处理器执行的代码；数据区域存储变量和进程执行期间使用的动态分配的内存；堆栈区域存储着活动过程调用的指令和本地变量。第二，进程是一个“执行中的程序”。程序是一个没有生命的实体，只有处理器赋予程序生命时（操作系统执行之），它才能成为一个活动的实体，我们称其为进程。

&emsp;进程是操作系统中最基本、重要的概念。是多道程序系统出现后，为了刻画系统内部出现的动态情况，描述系统内部各道程序的活动规律引进的一个概念，所有多道程序设计操作系统都建立在进程的基础上。
> &emsp;多道程序系统是在计算机内存中同时存放几道相互独立的程序，使它们在管理程序控制之下，相互穿插的运行。两个或两个以上程序在计算机系统中同处于开始和结束之间的状态。这就称为多道程序技术运行的特征：多道、宏观上并发、微观上串行。
### 引入进程概念的原因
&emsp;操作系统引入进程的概念的原因：
+ 从理论角度看，是对正在运行的程序过程的抽象。
+ 从实现角度看，是一种数据结构，目的在于清晰地刻画动态系统的内在规律，有效管理和调度进入计算机系统主存储器运行的程序。
### 进程的特征
+ 动态性：进程的实质是程序在多道程序系统中的一次执行过程，进程是动态产生，动态消亡的。
+ 并发性：任何进程都可以同其他进程一起并发执行。
+ 独立性：进程是一个能独立运行的基本单位，同时也是系统分配资源和调度的独立单位。
+ 异步性：由于进程间的相互制约，使进程具有执行的间断性，即进程按各自独立的、不可预知的速度向前推进。
+ 结构特征：进程由程序、数据和进程控制块三部分组成。
&emsp;多个不同的进程可以包含相同的程序：一个程序在不同的数据集里就构成不同的进程，能得到不同的结果；但是执行过程中，程序不能发生改变。
## 进程的内容
&emsp;一个计算机系统进程包括（或者说“拥有”）下列数据：
&emsp;那个程序的可运行机器码的一个在存储器的映像。分配到的存储器（通常包括虚拟内存的一个区域）。存储器的内容包括可运行代码、特定于进程的数据（输入、输出）、调用堆栈、堆栈（用于保存运行时运数中途产生的数据）。分配给该进程的资源的操作系统描述符，诸如文件描述符（`Unix` 术语）或文件句柄（`Windows`）、数据源和数据终端。安全特性，诸如进程拥有者和进程的权限集（可以容许的操作）。处理器状态（内文），诸如寄存器内容、物理存储器寻址等。当进程正在运行时，状态通常储存在寄存器，其他情况在存储器。
### 进程切换
&emsp;


## 参考链接
**参考链接:🔗**
+ [iOS底层学习 - 多线程之基础原理篇](https://juejin.im/post/6844904096189644807)
+ [iOS面试备战-多线程](https://juejin.im/post/6854573211011514382)
+ [进程](https://baike.baidu.com/item/进程/382503?fr=aladdin)
