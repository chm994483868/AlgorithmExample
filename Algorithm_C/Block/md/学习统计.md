> 还是有必要把每天的学习的内容都记录下来，有利于回顾复习，不然的话好像每天什么都没做一样。

## 8.20
1. 补充 `constexpr` 关键字代码，使用时需要引入头文件 `#include <iostream>`。
2. `SideTable` 第一个成员变量: 
  `spinlock_t slock`->
  `using spinlock_t = mutex_tt<LOCKDEBUG>;`->
  `struct mutex_tt : nocopy_t { os_unfair_lock mLock; ... };`->
  `typedef struct os_unfair_lock_s { uint32t _os_unfair_lock_opaque; } os_unfair_lock, *os_unfair_lock_t;`
3. `os_unfair_lock` 是用来代替 `OSSpinLock` 的，那先学习 `OSSpinLock`
4. 要使用 `OSSpinLock` 需要先引入 `#import <libkern/OSAtomic.h>`，看到 `usr/include/libkern/OSSpinLockDeprecated.h` 名字后面的 `Deprecated` 强烈的提示着我们 `OSSpinLock` 以及被废弃了，不要再用它了。
5. 查看 `OSSpinLockDeprecated.h` 文件里面到处是 `Deprecated` 和呼吁我们使用 `os_unfair_lock`。
6. 看到 `volatile` 关键字，展开学习。
7. 看到 `noexcept` 关键字，展开学习。
8. 回到 `OSSpinLockDeprecated.h` 继续学习，先看一下自旋锁的常规使用。
9. 完成了 `OSSpinLock` 的头文件分析和使用，查找为什么它存在线程安全问题。

## 8.21
1. 分析昨天的疑惑，为什么⏰线程和⚽️线程为什么其中一个打印会小于 10000，而另一个可以大于 10000，还有判断 `atomic` 会不会影响结果打印。
2. 先学会使用 `os_unfair_lock`，在逐行分析它的代码。
3. 因为锁的代码示例都会用到 `dispatch_async()` 这里引出了一个知识点，在它的  block 里面是否需要使用 `__weak typeof(self) weakSelf = self;`，这里涉及的问题很多，需要先研究一下。
4. `__weak`使用时定义在 block 内部的 `__strong` 变量依然用 `self`。
    ```objective-c
    // 以后使用 block 的标准模式
    __weak typeof(self) _self = self;
    ^{
        __strong typeof(_self) self = _self;
        if (!self) return;
        // do something 
        /// ...
    };
    ```
5. [iOS 属性引用self->,self.xx与_xx的区别](https://www.jianshu.com/p/62ed57cedf11)
6. `os_unfair_lock` API 摘录。
7. 阅读 `pthread_mutex_t` 使用。

## 8.22
1. 补充 `os_unfair_t` 流程图。
2. 使用 `pthread_mutex_t`。
3. `pthread_mutex_t`示例代码以及源码文档。
4. `NSLock`。

## 8.23
1. `iOS_NSRecursiveLock`。
2. `iOS_NSCondition`。
3. `iOS_NSConditionLock`。
4. `iOS_@synchronized`。
5. `iOS_dispatch_semaphore`。
6. `pthread_rwlock_t`。

## 8.24 
1. iOS中的锁学习总结完毕。
2. 切回到 runtime 切回到 weak 关键字。

## 后面没有再统计不是因为停止了学习，是因为写这个统计太费时间了。

### 下面待学习
1. category 原理
2. 关联对象原理 
3. 多线程使用以及原理。

3. __weak 修饰变量和 weak 属性中的 weak 同义。
4. load_weak 是用于读取 weak 变量。

8.27
[内存管理](https://www.jianshu.com/p/8d742a44f0da)
[C语言中的位屏蔽(bit masking)是怎么回事](http://c.biancheng.net/cpp/html/1611.html)

8.28
1. 如果弱引用比对象提前释放了，那 `weak_entry_t` 中的弱引用的指针的哈希数组怎么处理？


+ +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
类对象的地址后三位是 `0`，类对象是遵循 `8` 字节对齐。
类的成员变量内存对齐是采用 `8` 字节对齐，类实例化时分配空间时则是遵循 `16` 字节对齐。

# 10.12
今天开始要开启一个崭新的状态一个崭新的阶段！不要高估自己的定力妄想自己能抵制诱惑，正确的做法是直接远离诱惑！
要相信自己，相信自己所有的目标都能达到！也同时不要害怕时间流逝，不要害怕时间不够，只管踏踏实实一步一步来完成每一个小目标，最后一定会累积成山，最终能达到什么高度就交给时间来验证吧，最后做到无怨无悔即可。

1): 晚上回去把落地扇收到盒子里。窗帘拉开，从此不拉窗帘。
2): 把 B 站的游戏 UP 取关，不再看 B 站和直播。
3): 再这样下去你的人生就真的的废了。从今天开始一定要保持百分之百的专注！

# 40 分钟用来看方法的慢速查找吧！

+ [iOS基础(九) - load和initialize的实现原理](https://www.jianshu.com/p/66b366ed850e)

# 10.15 进入第一阶段复习
# （10.20 GCD 线程 KVC KVO RunLoop 编译到启动的流程 -- 待完成）
# 10.29 第一阶段复习完毕


# （GCD 线程 KVC KVO RunLoop 编译到启动的流程 -- 待完成）
# （GCD 线程 KVC KVO RunLoop 编译到启动的流程 -- 待完成）
# （GCD 线程 KVC KVO RunLoop 编译到启动的流程 -- 待完成）

